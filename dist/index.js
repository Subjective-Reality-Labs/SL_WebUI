(()=>{var t,e,s,n,i={45:(t,e,s)=>{"use strict";s.d(e,{o:()=>n});class n{constructor(t,e){this.state=!1,this.level=0,this.state_new=!1,this.level_new=0,this.url=t,this.canSend=!0,this.willSend=!1,this.connecting=!1;try{this.connect()}catch(t){console.log(t),this.connection=null}this.stateCallback=e}connect(){try{this.connecting=!0,this.connection=new WebSocket(`ws://${this.url}`),this.connection.addEventListener("open",(()=>{this.connection.send("Connected"),this.connecting=!1})),this.connection.addEventListener("error",(t=>{console.log("WebSocket Error ",t),this.connection.close()})),this.connection.addEventListener("message",(t=>{"S:"==t.data.slice(0,2)&&(this.state=Boolean(parseInt(t.data.split(";")[0].split(":")[1])),this.level=parseInt(t.data.split(";")[1].split(":")[1]),this.stateCallback(this.state,this.level)),console.log("Server: ",t.data)})),this.connection.addEventListener("close",(()=>{console.log("WebSocket connection closed"),delete this.connection;let t=500;setTimeout(this.connect(),Math.min(5e3,t+=t))}))}catch(t){console.log(t),this.connecting=!1}}setState(t){this.state=t;try{this.send()}catch(t){console.log(t)}}setLevel(t){let e=!0;if(0===t&&(t=1,e=!1),t!==this.level){this.level=t,e!=this.state&&this.setState(e);try{this.send()}catch(t){console.log(t)}}}send(){this.state_new=this.state,this.level_new=this.level,this.canSend?(this.canSend=!1,this.willSend=!1,1===this.connection.readyState?this.connection.send(`S:${this.state_new?1:0};L:${this.level_new};`):this.connecting||(delete this.connection,this.connect(),this.connection.addEventListener("open",(()=>{console.log("SENT"),this.connection.send(`S:${this.state_new?1:0};L:${this.level_new};`)}),{once:!0})),setTimeout((()=>{this.canSend=!0,this.willSend&&this.send()}),500)):this.willSend=!0}}},338:(t,e,s)=>{"use strict";s.d(e,{G:()=>n});class n{constructor(t,e){this.container=t,this.popupDiv=t.querySelector(".popup"),this.content=t.querySelector(".content"),this.confButs=t.querySelector(".confirm-buttons"),this.updater=e}draw(t,e){switch(this.clearPopup(),t){case"wifi-connect":this.makeLabel(e.wifiName,"wifi-ap-password"),this.makeInput("Password","wifi-ap-password","password"),this.makeButton("Connect",(()=>{e.callback()})),this.makeButton("Cancel",this.closePopup);break;case"wifi-manual":this.makeLabel("Add WiFi","wifi-ap-name"),this.makeInput("Name","wifi-ap-name","text"),this.makeInput("Password","wifi-ap-password","password"),this.makeButton("Connect",(()=>{i(document.getElementById("wifi-ap-name").value,document.getElementById("wifi-ap-password").value)})),this.makeButton("Cancel",this.closePopup);break;case"wifi-info":this.content.innerHTML=`<p>${e.wifiName}</p>\n          <p>Signal strength: ${e.signal}</p>\n          <p>Lamp's IP: ${e.ip}</p>`,this.makeButton("Ok",this.closePopup);break;case"reboot":this.makeAlert("Lamp will be rebooted."),this.makeButton("Ok",this.closePopup),this.makeButton("Cancel",this.closePopup);break;case"factory":this.makeAlert("Settings will be restored to factoy defaults."),this.makeButton("Ok",(()=>{this.clearPopup(),this.makeAlertProgress("Rebooting the lamp");try{fetch("/factory")}catch(t){console.log(t)}setTimeout((()=>location.reload()),5e3)})),this.makeButton("Cancel",this.closePopup);break;case"mqtt":this.makeAlert("Don't forget to check MQTT settings."),this.makeButton("Ok",(function(){this.closePopup(),e.callback&&e.callback()}));break;case"connecting":this.makeAlertProgress("Connecting");break;case"alert":this.makeAlert(e.alertText),this.makeButton("Ok",this.closePopup);break;case"update":this.makeInputFile("Select firmware file",(()=>{this.content.parentElement.querySelector(".but").disabled=!1})),this.makeCheckbox("Allow downgrade","downgrade"),this.makeButton("Upload",(()=>{const t=this.content.querySelector(".file-input").files[0];this.clearPopup(),this.makeAlert("Uploading firmware"),this.updater.upload(t,(t=>{const e=this.content.querySelector("h2");if("progress"===t.type)e.innerHTML=`Uploading update\n${parseInt(t.loaded/t.total*100)}%`;else if("updater"===t.type)e.innerHTML=`${t.data}`;else if("tarprogress"===t.type){let s=e.innerHTML.split("\n")[0];e.innerHTML=`${s}\n${t.data}`}}))}),!0),this.makeButton("Cancel",this.closePopup)}this.container.classList.add("active")}clearPopup(){this.confButs.innerHTML="",this.content.innerHTML=""}closePopup(){this.container.addEventListener("transitionend",(()=>{this.clearPopup()}),{once:!0}),this.container.classList.remove("active")}makeInputFile(t,e=null){const s=`file_input_${Math.random().toString(36).slice(2,7)}`,n=`<div class="file-container">\n    <input type="file" id="${s}" class="file-input">\n    <label for="${s}" class="file-label">${t}</label>\n    </div>`;this.content.innerHTML+=n;const i=document.getElementById(s),o=i.nextElementSibling,a=o.parentElement;i.addEventListener("change",(t=>{o.innerHTML=t.target.value.split("\\").pop(),null!=e&&e()})),["dragenter","dragover","dragleave","drop"].forEach((t=>{a.addEventListener(t,(t=>{t.preventDefault(),t.stopPropagation()}))})),["dragenter","dragover"].forEach((t=>{a.addEventListener(t,(()=>{a.classList.add("highlight")}))})),["dragleave","drop"].forEach((t=>{a.addEventListener(t,(()=>{a.classList.remove("highlight")}))})),a.addEventListener("drop",(t=>{i.files=t.dataTransfer.files,o.innerHTML=i.value.split("\\").pop(),null!=e&&e()}))}makeButton(t,e,s=!1){const n=document.createElement("button");return s&&(n.disabled=!0),n.classList.add("but"),n.innerText=t,n.addEventListener("click",e.bind(this)),this.confButs.appendChild(n),n}makeAlert(t){const e=`<h2>${t}</h2>`;this.content.innerHTML+=e}makeAlertProgress(t){const e=`<h2 class="progress">${t}</h2>`;this.content.innerHTML+=e}makeLabel(t,e){const s=`<label name=${e} for=${e}>${t}</label>`;this.content.innerHTML+=s}makeInput(t,e,s){const n=`<input type="${s}" id=${e} placeholder=${t}>`;this.content.innerHTML+=n}makeCheckbox(t,e){const s=`<div class="check-lbl">\n    <input type="checkbox" id="${e}">\n    <label for="${e}">${t}</label>\n    </div>`;this.content.innerHTML+=s}}async function i(t,e){popup.draw("connecting");try{let s=await fetch(encodeURI(`${URL}/wifi/connect?n=`+t+"&p="+e),{method:"GET"}).then((t=>t.json()));"Not connected."===s.status?popup.draw("alert",options={alertText:"Failed to connect"}):"Connected"===s.status?popup.draw("alert",options={alertText:`Already connected to ${s.ssid}`}):popup.draw("alert",options={alertText:`${s.status} to ${s.ssid}`})}catch(t){console.log(t)}}},212:(t,e,s)=>{"use strict";s.d(e,{Z:()=>n});class n{constructor(t,e,s=null){this.div=t,this.endpoint=e,this.inputs=this.div.querySelectorAll(".setting"),this.inputsLocal=this.div.querySelectorAll(".setting-local"),s.nested&&(this.nested=s.nested),this.default=s.default}async populateUI(t){(t||null===this.settings)&&await this.download(),null===this.settings&&console.error(`Can't access settings from ${this.endpoint}`),this.inputs.forEach((t=>{t.id in this.settings&&this._setValue(t,this.settings[t.id])}));for(let t in this.nested){const e=this.nested[t].querySelectorAll(".setting"),s=this.settings[t];e.forEach((t=>{const e=t.id.split(":")[1];e in s&&this._setValue(t,s[e])}))}this.inputsLocal.forEach((t=>{const e=localStorage.getItem(t.id);e&&this._setValue(t,JSON.parse(e))})),document.getElementById("serial_id").innerHTML=`S/N: ${String(this.settings.serial_id).padStart(4,"0")}`,document.getElementById("sw_version").innerHTML=`Firmware: ${(this.settings.sw_version/100).toFixed(2)}`}_setValue(t,e){void 0===t.value?t.classList.contains("custom-select")?t.setAttribute("value",t.id+":"+e):t.setAttribute("value",e):"checkbox"===t.type?t.checked=e:t.value=e}_getValue(t){let e;return e=void 0===t.value?t.classList.contains("custom-select")?t.getAttribute("value").split(":")[1]:t.getAttribute("value"):"checkbox"===t.type?t.checked:t.value,e}save(t,e){let s,n=!0;if(this.inputsLocal.forEach((t=>{localStorage.setItem(t.id,JSON.stringify(this._getValue(t)))})),t==this.div)this.inputs.forEach((t=>{if("text"===t.getAttribute("type")&&!t.checkValidity())return console.log("FALSE"),n=!1,s=t,!1;this.settings[t.id]=this._getValue(t)}));else for(let e in this.nested)t.querySelectorAll(".setting").forEach((t=>{if("text"===t.getAttribute("type")&&!t.reportValidity())return console.log("FALSE"),n=!1,s=t,!1;const i=t.id.split(":")[1];this.settings[e][i]=this._getValue(t)}));if(!0===e&&!0===n)try{this.upload()}catch(t){console.log(t)}return!1===n&&s}async download(){try{let t=await fetch(this.endpoint,{method:"GET"}).then((t=>t.json()));this.settings=t}catch(t){console.log(t),this.settings=this.default}}async upload(){await fetch(this.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.settings)})}}},406:(t,e,s)=>{"use strict";s.d(e,{F:()=>n});class n{constructor(t,e){this.url=t,this.uploading=!1,this.progressCB=e}begin(){this.events=new EventSource(`${this.url}/events`)}upload(t,e){if(!this.events)try{this.begin()}catch(t){return void console.log(t)}e&&(this.progressCB=e),this.uploading=!0;const s=new FormData,n=new XMLHttpRequest;n.addEventListener("load",(()=>{200===n.status?this.OTASuccess=!0:500!==n.status?this.OTAError=`[HTTP ERROR] ${n.statusText}`:this.OTAError=n.responseText,this.uploading=!1,this.progress=0})),this.progressCB&&n.upload.addEventListener("progress",this.progressCB),this.progressCB&&this.events.addEventListener("updater",this.progressCB),this.progressCB&&this.events.addEventListener("tarprogress",this.progressCB);const i=document.getElementById("downgrade").checked;s.append("downgrade",i),s.append("size",t.size),s.append("firmware",t,t.name),n.open("post",this.url),n.send(s)}end(){this.events.removeEventListener("updater",this.progressCB),this.events.removeEventListener("tarprogress",this.progressCB)}}},162:()=>{!function(){const t=document.querySelectorAll(".custom-select"),e=new MutationObserver((t=>{t.forEach((t=>{"value"===t.attributeName&&(document.getElementById(t.target.getAttribute("value")).checked=!0)}))}));function s(t){t.classList.toggle("active"),t.classList.contains("active")?(t.querySelector(":checked").classList.add("__hidden"),t.querySelector(".custom-select-labels").classList.remove("__hidden")):(t.querySelector(":checked").classList.remove("__hidden"),t.querySelector(".custom-select-labels").classList.add("__hidden"))}t.forEach((t=>{e.observe(t,{attributes:!0}),t.setAttribute("value","power_on_state:1"),t.querySelector(".custom-select-labels").classList.add("__hidden");const n=t.querySelectorAll("input[type=radio]"),i=t.querySelectorAll("label");t.addEventListener("click",(()=>{s(t)})),n.forEach((e=>{e.addEventListener("change",(s=>{t.setAttribute("value",e.id)}))})),i.forEach((e=>{e.addEventListener("click",(e=>{s(t)}))}))})),window.addEventListener("click",(e=>{t.forEach((t=>{!t.contains(e.target)&&t.classList.contains("active")&&s(t)}))}))}()},243:(t,e,s)=>{"use strict";s.a(t,(async(t,e)=>{try{var n=s(14),i=(s(162),t([n]));n=(i.then?(await i)():i)[0],setTimeout((()=>{1!=window.mainJS&&window.location.reload()}),1e3),e()}catch(t){e(t)}}))},14:(t,e,s)=>{"use strict";s.a(t,(async(t,e)=>{try{var n=s(338),i=s(212),o=s(45),a=s(406);window.mainJS=!0;const c="";let r=!0,l=0,d=Math.max(document.documentElement.clientHeight,window.innerHeight||0);const u={wifi:{hotspot_name:"SRL",hotspot_password:"realityissubjective"},mqtt:{server:"",port:"1883",username:"",password:"",ha_discovery:!0,topic:"",on_cmd:"",off_cmd:""},lamp_name:"SL-001",power_on_state:2,on_off_button:!1,mqtt_use:!1,serial_id:1,sw_version:70},h=new a.F(`${c}/update`),p=new n.G(document.querySelector(".popup-container"),h),m=new i.Z(document.querySelector(".card.set"),`${c}/rest/settings`,{nested:{wifi:document.querySelector(".card.wifi"),mqtt:document.querySelector(".card.mqtt")},default:u}),v=new o.o(`${c||location.hostname}/ws`,((t,e)=>{N(t,e)})),g=document.documentElement,f=document.querySelectorAll(".onoff .but"),w=document.querySelector(".b-on"),y=document.querySelector(".b-off"),b=document.querySelector(".settings"),L=(document.querySelector(".but.set"),document.querySelectorAll(".set-buttons > .but")),S=document.querySelectorAll(".cards > .card"),E=document.querySelectorAll(".more"),k=document.querySelector(".wifi-connect"),q=document.querySelector(".main_range"),_=document.querySelector(".but.mqtt"),A=document.getElementById("mqtt_use"),$=document.getElementById("mqtt:ha_discovery"),T=document.querySelector(".slider");function x(){document.querySelectorAll(".preload-transitions").forEach((t=>{t.classList.remove("preload-transitions")})),H(),r=JSON.parse(localStorage.getItem("splash")),!1===r?document.querySelector(".splash").classList.add("disabled"):document.querySelectorAll(".paused").forEach((t=>{t.classList.remove("paused")})),I(),g.style.setProperty("--true-height",Math.max(document.documentElement.clientHeight,window.innerHeight||0)+"px")}function B(t,e,s,n,i){const o=(t-e)*(i-n)/(s-e)+n;return Math.min(Math.max(o,n),i)}function C(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}function M(t,e){const s=Array.from(S).indexOf(t);S.forEach(((e,n)=>{e===t?e.classList.add("active"):(s>n?(e.classList.remove("hidden-down"),e.classList.add("hidden-up")):(e.classList.remove("hidden-up"),e.classList.add("hidden-down")),e.classList.remove("active"))})),L.forEach((t=>{t===e?t.classList.toggle("active"):t.classList.remove("active")}))}function P(t){const e=document.querySelectorAll(".set-buttons > .but:not(.hidden)");let s=Array.from(e).reverse(),n=0;s.forEach((e=>{t?(e.classList.contains("set")||e.setAttribute("style",`transform:translateX(-${n}px)`),n+=e.offsetWidth+C(.5)):(m.mqtt_use||_.classList.add("hidden"),e.removeAttribute("style"))}))}function H(){let t=JSON.parse(localStorage.getItem("firstrun"));null===t?localStorage.setItem("firstrun",JSON.stringify(1)):t>=0&&t<3?(t++,localStorage.setItem("firstrun",JSON.stringify(t))):t>=3&&null===localStorage.getItem("splash")&&localStorage.setItem("splash",JSON.stringify(!1))}function I(){v.state?(w.classList.remove("active"),y.classList.add("active"),v.setState(!1)):(w.classList.add("active"),y.classList.remove("active"),v.setState(!0))}function N(t,e){t?(w.classList.add("active"),y.classList.remove("active")):(w.classList.remove("active"),y.classList.add("active")),e=parseInt(e),q.value=e,q.parentNode.setAttribute("style",`--val: ${e}; --val-text: "${e}"`)}function O(t,e=null){t.classList.contains("active")||!1===e?(t.setAttribute("style","--h:0"),t.classList.remove("active")):(t.style.setProperty("--h",t.scrollHeight),t.classList.add("active"))}function F(t,e){const s=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","path");if(s.setAttribute("viewBox","-100 -200 200 200"),n.setAttribute("fill","#000000"),t<100){const e=document.createElementNS("http://www.w3.org/2000/svg","path"),i=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",`m 0 -18 l ${-.8*t} ${-.8*t} q ${.8*t} ${-.6*t} ${1.6*t} 0 z`),e.setAttribute("d","m 0 0 l -100 -100 q 100 -80 200 0 z"),e.setAttribute("fill","#000000"),i.setAttribute("d","m 0 -18 l -80 -80 q 80 -60 160 0 z"),i.setAttribute("fill","#FFFFFF"),s.appendChild(e),s.appendChild(i)}else n.setAttribute("d",`m 0 0 l ${-1*t} ${-1*t} q ${t} ${-.8*t} ${2*t} 0 z`);s.appendChild(n),e.appendChild(s)}function R(t){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.innerHTML='<rect x="5" width="40" height="25" fill="black" stroke="white"/>\n  <rect y="21" width="50" height="35" fill="black"/>\n  <rect x="15" y="9" width="20" height="12" fill="white"/>\n  <rect x="20" y="34" width="10" height="10" fill="white"/>',e.setAttribute("viewBox","0 0 56 56"),e.setAttribute("style","position: absolute; right: 0rem; bottom: 0rem; height: 0.4em; width: 0.4em;"),t.appendChild(e)}function j(t){t.style.setProperty("--own-width",t.scrollWidth+"px"),t.style.setProperty("animation-play-state","running")}async function J(t){const e=t.querySelector(".title > h3"),s=t.querySelector(".networks");t.classList.add("scan"),e.innerHTML="Scanning";const n=await fetch(`${c}/wifi/list`,{method:"GET"}).then((t=>t.text()));var i,o;t.classList.remove("scan"),e.innerHTML="Available networks",t.classList.add("ready"),i=n,(o=s).innerHTML="",i.split("\n").forEach((t=>{let e=t.split(",");const s=document.createElement("li"),n=document.createElement("div"),i=document.createElement("div");n.classList.add("wifi-signal"),i.classList.add("wifi-security"),F(e[0],n),"1"===e[1]&&R(n);const a=document.createElement("p");a.innerText=e[2],s.addEventListener("click",(function(){p.draw("wifi-connect",{wifiName:this.innerText,callback:()=>{V(this.innerText,document.getElementById("wifi-ap-password").value)}})})),o.appendChild(s),o.style.setProperty("--list-width",o.clientWidth+"px"),s.appendChild(n),s.appendChild(a),s.appendChild(i),j(a)}))}async function V(t,e){p.draw("connecting");try{let s=await fetch(encodeURI(`${c}/wifi/connect?n=`+t+"&p="+e),{method:"GET"}).then((t=>t.json()));"Not connected."===s.status?p.draw("alert",{alertText:"Failed to connect"}):"Connected"===s.status?p.draw("alert",{alertText:`Already connected to ${s.ssid}`}):p.draw("alert",{alertText:`${s.status} to ${s.ssid}`})}catch(t){console.log(t)}}async function z(){const t=document.querySelector(".wifi-current.but");try{let e=await fetch(`${c}/wifi/report`,{method:"GET"}).then((t=>t.json()));"Not connected."===e.status?t.innerHTML=`AP mode: ${e.ap_ssid}`:t.innerHTML=`${e.ssid}`}catch(t){console.log(t)}b.querySelectorAll(".confirm-buttons").forEach((t=>{t.classList.remove("visible")})),document.querySelectorAll(".content .more-div").forEach((t=>{t.classList.remove("active"),t.removeAttribute("style")})),document.querySelectorAll(".content .more").forEach((t=>{t.classList.remove("active")})),m.populateUI(!0),m.mqtt_use?_.classList.remove("hidden"):_.classList.add("hidden"),$.checked&&O($.parentElement.nextElementSibling,!1)}function G(t){let e=m.save(t,!0);return!!e&&(e.classList.add("error"),e.addEventListener("input",(function(){this.classList.remove("error")}),{once:!0}),!0)}q.value=l,window.addEventListener("pageshow",(t=>{t.persisted&&window.location.reload()})),"loading"!==document.readyState?x():document.addEventListener("DOMContentLoaded",(function(){x()})),T.addEventListener("touchstart",(t=>{if(t.preventDefault(),t.target===q){const e=C(3);let s=B(t.touches[0].clientY,q.getBoundingClientRect().bottom-e,q.getBoundingClientRect().top+e,0,100);q.value=s.toFixed(0),q.dispatchEvent(new Event("input",{bubbles:!0}))}})),T.addEventListener("touchmove",(t=>{if(t.target===q){const e=C(3);let s=B(t.touches[0].clientY,q.getBoundingClientRect().bottom-e,q.getBoundingClientRect().top+e,0,100);q.value=s.toFixed(0),q.dispatchEvent(new Event("input",{bubbles:!0}))}})),q.addEventListener("input",(function(){this.parentNode.setAttribute("style",`--val: ${this.value}; --val-text: "${this.value}"`),v.setLevel(parseInt(this.value))})),f.forEach((t=>{t.addEventListener("click",(()=>{I()}))})),L.forEach((t=>{t.addEventListener("click",(()=>{const e=t.classList[0],s=document.querySelector("."+e+".card");!t.classList.contains("active")&&b.classList.contains("active")||(b.classList.toggle("active"),document.querySelector(".settings-background").classList.toggle("active"),b.classList.contains("active")&&z()),M(s,t)}))})),E.forEach((t=>{t.addEventListener("click",(()=>{const e=t.nextElementSibling;t.classList.toggle("active"),O(e)}))})),window.addEventListener("resize",(()=>{d=Math.max(document.documentElement.clientHeight,window.innerHeight||0),g.style.setProperty("--true-height",Math.max(document.documentElement.clientHeight,window.innerHeight||0)+"px")})),S.forEach((t=>{t.childNodes.forEach((e=>{e.addEventListener("change",(()=>{t.querySelector(".confirm-buttons").classList.add("visible")}))}))})),document.querySelectorAll(".confirm-buttons .but.save").forEach((t=>t.addEventListener("click",(()=>{G(t.parentNode.parentNode)||t.parentNode.classList.remove("visible")})))),A.addEventListener("change",(function(){this.checked?p.draw("mqtt",{callback:()=>{document.querySelector(".set-buttons > .but.mqtt").classList.remove("hidden"),P(!0)}}):(_.removeAttribute("style"),_.classList.add("hidden"),P(!0))})),$.addEventListener("change",(function(){const t=this.parentElement.nextElementSibling;this.checked?O(t,!1):O(t,!0)})),document.querySelector(".but.update").addEventListener("click",(()=>{p.draw("update")})),document.querySelector(".but.factory").addEventListener("click",(()=>{p.draw("factory")})),new ResizeObserver((t=>{for(let e of t)e.target.style.setProperty("--list-width",e.target.clientWidth+"px")})).observe(k.querySelector(".networks")),document.querySelector(".wifi-connect > .title").addEventListener("click",(function(){J(this.parentNode)})),document.querySelector(".wifi-connect > .manual").addEventListener("click",(function(){p.draw("wifi-manual")})),document.querySelector(".but.wifi-current").addEventListener("click",(async function(){try{let t,e=await fetch(`${c}/wifi/report`,{method:"GET"}).then((t=>t.json()));console.log(e),t="Not connected."===e.status?`AP mode: ${e.ap_ssid}`:`${e.ssid}`,p.draw("wifi-info",{wifiName:t,ip:e.ip,signal:`${e.rssi}%`})}catch(t){console.log(t)}})),history.pushState(null,null,window.location.pathname),window.addEventListener("popstate",(t=>{b.classList.contains("active")?(history.pushState(null,null,window.location.pathname),b.classList.remove("active"),document.querySelector(".set-buttons > .but.active").classList.remove("active")):history.back()})),new MutationObserver((t=>{t.forEach((t=>{"attributes"==t.type&&"class"==t.attributeName&&P(t.target.classList.contains("active"))}))})).observe(b,{attributes:!0}),await m.download(),document.title=m.settings.lamp_name,e()}catch(U){e(U)}}),1)}},o={};function a(t){var e=o[t];if(void 0!==e)return e.exports;var s=o[t]={exports:{}};return i[t](s,s.exports,a),s.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},a.a=(i,o,a)=>{var c;a&&((c=[]).d=1);var r,l,d,u=new Set,h=i.exports,p=new Promise(((t,e)=>{d=e,l=t}));p[e]=h,p[t]=t=>(c&&t(c),u.forEach(t),p.catch((t=>{}))),i.exports=p,o((i=>{var o;r=(i=>i.map((i=>{if(null!==i&&"object"==typeof i){if(i[t])return i;if(i.then){var o=[];o.d=0,i.then((t=>{a[e]=t,n(o)}),(t=>{a[s]=t,n(o)}));var a={};return a[t]=t=>t(o),a}}var c={};return c[t]=t=>{},c[e]=i,c})))(i);var a=()=>r.map((t=>{if(t[s])throw t[s];return t[e]})),l=new Promise((e=>{(o=()=>e(a)).r=0;var s=t=>t!==c&&!u.has(t)&&(u.add(t),t&&!t.d&&(o.r++,t.push(o)));r.map((e=>e[t](s)))}));return o.r?l:a()}),(t=>(t?d(p[s]=t):l(h),n(c)))),c&&(c.d=0)},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var s in e)a.o(e,s)&&!a.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a(243)})();